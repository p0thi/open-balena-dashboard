(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"07ac":function(t,e,s){var r=s("23e7"),i=s("6f53").values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},"4df4":function(t,e,s){"use strict";var r=s("0366"),i=s("7b0b"),a=s("9bdd"),n=s("e95a"),o=s("50c4"),c=s("8418"),l=s("35a1");t.exports=function(t){var e,s,u,d,v,f,g=i(t),p="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,_=void 0!==b,m=l(g),y=0;if(_&&(b=r(b,h>2?arguments[2]:void 0,2)),void 0==m||p==Array&&n(m))for(e=o(g.length),s=new p(e);e>y;y++)f=_?b(g[y],y):g[y],c(s,y,f);else for(d=m.call(g),v=d.next,s=new p;!(u=v.call(d)).done;y++)f=_?a(d,b,[u.value,y],!0):u.value,c(s,y,f);return s.length=y,s}},"4fad":function(t,e,s){var r=s("23e7"),i=s("6f53").entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},"6f53":function(t,e,s){var r=s("83ab"),i=s("df75"),a=s("fc6a"),n=s("d1e7").f,o=function(t){return function(e){var s,o=a(e),c=i(o),l=c.length,u=0,d=[];while(l>u)s=c[u++],r&&!n.call(o,s)||d.push(t?[s,o[s]]:o[s]);return d}};t.exports={entries:o(!0),values:o(!1)}},"7b92":function(t,e,s){},"9bdd":function(t,e,s){var r=s("825a"),i=s("2a62");t.exports=function(t,e,s,a){try{return a?e(r(s)[0],s[1]):e(s)}catch(n){throw i(t),n}}},a630:function(t,e,s){var r=s("23e7"),i=s("4df4"),a=s("1c7e"),n=!a((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:n},{from:i})},aa72:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.getSelectedApp?s("div",t._l(t.devices,(function(t){return s("DeviceTile",{key:t.uuid,attrs:{details:t}})})),1):s("div")},i=[],a=s("5530"),n=s("2f62"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"center"},[s("vs-card",{on:{click:function(e){t.showDialog=!t.showDialog}},scopedSlots:t._u([{key:"title",fn:function(){return[s("h2",[t._v(t._s(t.details["device_name"]))])]},proxy:!0},{key:"text",fn:function(){return[s("p",[t._v("Online/VPN Connected: "+t._s(t.details["is_online"])+", "+t._s(t.details["is_connected_to_vpn"]))]),s("p",[t._v("IP Adress: "+t._s(t.details["ip_address"]))]),s("p",[t._v("Status / progress: "+t._s(t.details["overall_status"])+" / "+t._s(t.details["overall_progress"]))]),s("p",[t._v("UUID: "+t._s(t.details["uuid"]))]),s("p",[t._v("Last connectivity event: "+t._s(t._f("moment")(t.details["last_connectivity_event"],"DD.MM.YYYY, HH:mm:ss")))]),s("p",[t._v("Created at: "+t._s(t._f("moment")(t.details["created_at"],"DD.MM.YYYY, HH:mm:ss")))]),s("vs-button",{on:{click:t.restartDevice}},[t._v("Restart")])]},proxy:!0}])}),s("vs-dialog",{attrs:{"overflow-hidden":"","full-screen":""},scopedSlots:t._u([{key:"header",fn:function(){return[s("h4",[t._v(t._s(t.details["device_name"]))]),s("vs-button",{attrs:{icon:"",flat:""},on:{click:function(e){t.showEditNameDialog=!t.showEditNameDialog}}},[s("i",{staticClass:"bx bx-edit"})])]},proxy:!0}]),model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[s("div",[s("vs-row",[s("vs-col",{attrs:{lg:"6",sm:"12"}},[s("vs-table",{scopedSlots:t._u([{key:"thead",fn:function(){return[s("vs-tr",[s("vs-th",[t._v("Service")]),s("vs-th",[t._v("Status")]),s("vs-th")],1)]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.details["current_services"],(function(e,r,i){return s("vs-tr",{key:i,attrs:{data:e[0]}},[s("vs-td",[s("div",{staticClass:"service-list-name",style:"background-color: "+t.colors[e[0]["service_id"]]},[t._v(" "+t._s(r)+" ")])]),s("vs-td",[s("span",["Running"===e[0].status?s("i",{staticClass:"bx bx-check-circle",staticStyle:{color:"green"}}):s("i",{staticClass:"bx bx-error-circle",staticStyle:{color:"red"}})]),s("span",[t._v(" "+t._s(e[0].status))])]),s("vs-td",[s("vs-row",[s("vs-button",{attrs:{icon:"",flat:"",disabled:"Running"===e[0].status},on:{click:function(s){return t.startService(e[0].service_id)}}},[s("i",{staticClass:"bx bx-play"})]),s("vs-button",{attrs:{icon:"",flat:"",disabled:"Running"!==e[0].status},on:{click:function(s){return t.stopService(e[0].service_id)}}},[s("i",{staticClass:"bx bx-stop"})]),s("vs-button",{attrs:{icon:"",flat:"",disabled:"Running"!==e[0].status},on:{click:function(s){return t.restartService(e[0].service_id)}}},[s("i",{staticClass:"bx bx-refresh"})])],1)],1)],1)}))},proxy:!0}])}),t._l(t.details["current_services"],(function(e,r,i){return s("div",{key:i},[t._v(t._s(r[0].status))])}))],2),s("vs-col",{attrs:{lg:"6",sm:"12"}},[s("div",{staticClass:"hardware-stats"},[s("vs-row",{staticClass:"spacing-row"},[s("vs-col",{attrs:{lg:"3",sm:"6",xs:"12"}},[s("div",{staticClass:"hardware-stats-text"},[s("span",[t._v("CPU")]),s("span",[t._v(t._s(t.details["cpu_usage"])+"%")])]),s("div",{staticClass:"progress-background"},[s("div",{staticClass:"progress-status",style:"width: "+t.details["cpu_usage"]+"%"})])]),s("vs-col",{attrs:{lg:"3",sm:"6",xs:"12"}},[s("div",{staticClass:"hardware-stats-text"},[s("span",[t._v("Temperature")]),s("span",[t._v("~"+t._s(t.details["cpu_temp"])+"Â°C")])]),s("div",{staticClass:"progress-background"},[s("div",{staticClass:"progress-status",style:"width: "+t.details["cpu_temp"]+"%"})])]),s("vs-col",{attrs:{lg:"3",sm:"6",xs:"12"}},[s("div",{staticClass:"hardware-stats-text"},[s("span",[t._v("Memory")]),s("span",[t._v(t._s(t.details["memory_usage"])+" MB / "+t._s((t.details["memory_total"]/1e3).toFixed(1))+" GB")])]),s("div",{staticClass:"progress-background"},[s("div",{staticClass:"progress-status",style:"width: "+t.details["memory_usage"]/t.details["memory_total"]*100+"%"})])]),s("vs-col",{attrs:{lg:"3",sm:"6",xs:"12"}},[s("div",{staticClass:"hardware-stats-text"},[s("span",[t._v("Storage")]),s("span",[t._v(t._s((t.details["storage_usage"]/1e3).toFixed(1))+" GB/"+t._s((t.details["storage_total"]/1e3).toFixed(1))+" GB")])]),s("div",{staticClass:"progress-background"},[s("div",{staticClass:"progress-status",style:"width: "+t.details["storage_usage"]/t.details["storage_total"]*100+"%"})])])],1)],1),s("div",{ref:"logContainer",staticClass:"log-container"},t._l(t.logs,(function(e,r){return s("div",{key:"line"+r},[s("span",{staticClass:"timestamp"},[t._v(t._s(t._f("moment")(e.timestamp,"DD.MM.YY - HH:mm:ss"))+":")]),s("span",{staticClass:"service",style:"background-color: "+t.colors[e.serviceId]},[t._v(t._s(t.getServiceNameByServiceId(e.serviceId)))]),s("span",{staticClass:"message",class:{"is-system":e.isSystem,"is-error":e.isStdErr}},[t._v(t._s(e.message))])])})),0)])],1)],1)]),s("vs-dialog",{attrs:{blur:""},model:{value:t.showEditNameDialog,callback:function(e){t.showEditNameDialog=e},expression:"showEditNameDialog"}},[s("vs-input",{model:{value:t.details["device_name"],callback:function(e){t.$set(t.details,"device_name",e)},expression:"details['device_name']"}}),s("vs-button",{on:{click:t.saveName}},[t._v("Save")])],1)],1)},c=[];function l(t){if(Array.isArray(t))return t}s("a4d3"),s("e01a"),s("d3b7"),s("d28b"),s("3ca3"),s("ddb0");function u(t,e){var s=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=s){var r,i,a=[],n=!0,o=!1;try{for(s=s.call(t);!(n=(r=s.next()).done);n=!0)if(a.push(r.value),e&&a.length===e)break}catch(c){o=!0,i=c}finally{try{n||null==s["return"]||s["return"]()}finally{if(o)throw i}}return a}}s("fb6a"),s("b0c0"),s("a630");function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=t[s];return r}function v(t,e){if(t){if("string"===typeof t)return d(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?d(t,e):void 0}}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(t,e){return l(t)||u(t,e)||v(t,e)||f()}function p(t,e){var s="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=v(t))||e&&t&&"number"===typeof t.length){s&&(t=s);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,n=!0,o=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return n=t.done,t},e:function(t){o=!0,a=t},f:function(){try{n||null==s["return"]||s["return"]()}finally{if(o)throw a}}}}s("07ac"),s("4fad");var h={name:"DeviceTile",mounted:function(){var t,e=this;console.log("services"),null===(t=this.$balena)||void 0===t||t.logs.subscribe(this.details.uuid,{count:150}).then((function(t){e.logger=t,console.log("logger created"),t.on("line",(function(t){e.$refs.logContainer&&(e.$refs.logContainer.scrollTop=e.$refs.logContainer.scrollHeight),e.logs.push(t)}))}))},updated:function(){this.$refs.logContainer&&(this.$refs.logContainer.scrollTop=this.$refs.logContainer.scrollHeight)},destroyed:function(){var t;null===(t=this.logger)||void 0===t||t.unsubscribe()},methods:{restartDevice:function(){for(var t=0,e=Object.values(this.details["current_services"]);t<e.length;t++){var s,r=e[t],i=p(r);try{for(i.s();!(s=i.n()).done;){var a,n=s.value;null===(a=this.$balena)||void 0===a||a.models.device.restartService(this.details.uuid,n["image_id"])}}catch(o){i.e(o)}finally{i.f()}}},startService:function(t){this.$balena.models.device.startService(this.details.uuid,t)},stopService:function(t){this.$balena.models.device.stopService(this.details.uuid,t)},restartService:function(t){this.$balena.models.device.restartService(this.details.uuid,t)},getServiceNameByServiceId:function(t){for(var e=0,s=Object.entries(this.details["current_services"]);e<s.length;e++){var r,i=g(s[e],2),a=i[0],n=i[1],o=p(n);try{for(o.s();!(r=o.n()).done;){var c=r.value;if(c["service_id"]===t)return a}}catch(l){o.e(l)}finally{o.f()}}return null},saveName:function(){var t=this;this.$balena.models.device.rename(this.details.uuid,this.details["device_name"]).then((function(){t.showEditNameDialog=!1}))}},props:{details:{required:!0}},data:function(){return{showDialog:!1,showEditNameDialog:!1,logs:[],logger:void 0,colors:["#0C059A","#B36E2E","#C0BC0D","#9F4081","#2363CC","#EB5E7E","#AAA723","#D286A8","#318747"]}}},b=h,_=(s("e826"),s("2877")),m=Object(_["a"])(b,o,c,!1,null,null,null),y=m.exports,w={name:"Devices",components:{DeviceTile:y},computed:Object(a["a"])(Object(a["a"])({},Object(n["c"])({getSelectedApp:"getSelectedApp"})),{},{devices:function(){return this.getSelectedApp["owns__device"]}})},S=w,C=Object(_["a"])(S,r,i,!1,null,"b19b0572",null);e["default"]=C.exports},b0c0:function(t,e,s){var r=s("83ab"),i=s("9bf2").f,a=Function.prototype,n=a.toString,o=/^\s*function ([^ (]*)/,c="name";r&&!(c in a)&&i(a,c,{configurable:!0,get:function(){try{return n.call(this).match(o)[1]}catch(t){return""}}})},d28b:function(t,e,s){var r=s("746f");r("iterator")},e01a:function(t,e,s){"use strict";var r=s("23e7"),i=s("83ab"),a=s("da84"),n=s("5135"),o=s("861d"),c=s("9bf2").f,l=s("e893"),u=a.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},v=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof v?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};l(v,u);var f=v.prototype=u.prototype;f.constructor=v;var g=f.toString,p="Symbol(test)"==String(u("test")),h=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=g.call(t);if(n(d,t))return"";var s=p?e.slice(7,-1):e.replace(h,"$1");return""===s?void 0:s}}),r({global:!0,forced:!0},{Symbol:v})}},e826:function(t,e,s){"use strict";s("7b92")},fb6a:function(t,e,s){"use strict";var r=s("23e7"),i=s("861d"),a=s("e8b5"),n=s("23cb"),o=s("50c4"),c=s("fc6a"),l=s("8418"),u=s("b622"),d=s("1dde"),v=d("slice"),f=u("species"),g=[].slice,p=Math.max;r({target:"Array",proto:!0,forced:!v},{slice:function(t,e){var s,r,u,d=c(this),v=o(d.length),h=n(t,v),b=n(void 0===e?v:e,v);if(a(d)&&(s=d.constructor,"function"!=typeof s||s!==Array&&!a(s.prototype)?i(s)&&(s=s[f],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return g.call(d,h,b);for(r=new(void 0===s?Array:s)(p(b-h,0)),u=0;h<b;h++,u++)h in d&&l(r,u,d[h]);return r.length=u,r}})}}]);
//# sourceMappingURL=about.157af02a.js.map