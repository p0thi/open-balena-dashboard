(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"07ac":function(e,t,i){var s=i("23e7"),a=i("6f53").values;s({target:"Object",stat:!0},{values:function(e){return a(e)}})},"23dd":function(e,t,i){"use strict";i("ef60")},3253:function(e,t,i){"use strict";i("a449")},"3a73":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("vs-row",{staticClass:"mt-2",attrs:{justify:"center"}},[i("vs-col",{attrs:{w:"11"}},[i("vs-table",{attrs:{striped:""},scopedSlots:e._u([{key:"thead",fn:function(){return[i("vs-tr",[i("vs-th",[e._v(" Name ")]),i("vs-th",[e._v(" Description ")]),i("vs-th",[e._v(" Key ")]),i("vs-th",[e._v(" Actions ")]),i("vs-th",[e._v(" Created At ")]),i("vs-th",[e._v(" Last Modified At ")])],1)]},proxy:!0},{key:"tbody",fn:function(){return[e._l(e.apiKeys,(function(t){return i("vs-tr",{key:t.id,attrs:{data:t}},[i("vs-td",{attrs:{edit:""},on:{click:function(i){e.keyEditObject.edit=t,e.keyEditObject.editProp="name",e.keyEditObject.editActive=!0}}},[i("i",{staticClass:"bx bx-edit bx-xs vertical-align-middle"}),i("span",{staticClass:"vertical-align-middle"},[e._v(" "+e._s(t.name))])]),i("vs-td",{attrs:{edit:""},on:{click:function(i){e.keyEditObject.edit=t,e.keyEditObject.editProp="description",e.keyEditObject.editActive=!0}}},[i("i",{staticClass:"bx bx-edit bx-xs vertical-align-middle"}),i("span",{staticClass:"vertical-align-middle"},[e._v(" "+e._s(t.description))])]),i("vs-td",[e._v(e._s(t.key))]),i("vs-td",[i("vs-button",{attrs:{icon:"",flat:""},on:{click:function(i){return e.deleteKey(t)}}},[i("i",{staticClass:"bx bx-trash"})])],1),i("vs-td",[e._v(" "+e._s(e._f("moment")(t["created_at"],"DD.MM.YYYY - HH:mm:ss"))+" ")]),i("vs-td",[e._v(" "+e._s(e._f("moment")(t["modified_at"],"DD.MM.YYYY - HH:mm:ss"))+" ")])],1)})),i("vs-tr",[i("vs-td",[i("vs-input",{attrs:{"label-placeholder":"New variable name"},model:{value:e.newKeyObject.name,callback:function(t){e.$set(e.newKeyObject,"name",t)},expression:"newKeyObject.name"}})],1),i("vs-td",[i("vs-input",{attrs:{"label-placeholder":"New variable value"},model:{value:e.newKeyObject.value,callback:function(t){e.$set(e.newKeyObject,"value",t)},expression:"newKeyObject.value"}})],1),i("vs-td",[i("vs-button",{attrs:{icon:"",flat:""},on:{click:e.createKey}},[i("i",{staticClass:"bx bx-save"}),i("span",[e._v("Speichern")])])],1)],1)]},proxy:!0}])})],1)],1),i("vs-dialog",{attrs:{blur:""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(' Edit Prop "'+e._s(e.keyEditObject.editProp)+'" ')]},proxy:!0}]),model:{value:e.keyEditObject.editActive,callback:function(t){e.$set(e.keyEditObject,"editActive",t)},expression:"keyEditObject.editActive"}},[e.keyEditObject.editProp?i("vs-input",{on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateKey(t)}},model:{value:e.keyEditObject.edit[e.keyEditObject.editProp],callback:function(t){e.$set(e.keyEditObject.edit,e.keyEditObject.editProp,t)},expression:"keyEditObject.edit[keyEditObject.editProp]"}}):e._e(),i("vs-button",{on:{click:e.updateKey}},[e._v("Save")])],1)],1)},a=[],n=(i("d3b7"),{name:"UserSettings",created:function(){this.fetchKeys()},methods:{createKey:function(){var e=this;this.$balena.models.apiKey.create(this.newKeyName).then((function(t){console.log("key created",t),e.fetchKeys()}))},fetchKeys:function(){var e=this;this.$balena.models.apiKey.getAll().then((function(t){console.log("api keys",t),e.apiKeys=t}))},deleteKey:function(e){var t=this;this.$balena.models.apiKey.revoke(e.id).then((function(){t.fetchKeys()}))},updateKey:function(){var e=this;console.log(this.keyEditObject.edit.id,this.keyEditObject.edit),this.$balena.models.apiKey.update(this.keyEditObject.edit.id,this.keyEditObject.edit).finally((function(){e.fetchKeys(),e.keyEditObject.editActive=!1}))}},data:function(){return{apiKeys:void 0,keyEditObject:{editActive:!1,edit:null,editProp:void 0},newKeyObject:{name:void 0,description:void 0}}}}),r=n,c=i("2877"),o=Object(c["a"])(r,s,a,!1,null,"34bbae94",null);t["default"]=o.exports},"44e7":function(e,t,i){var s=i("861d"),a=i("c6b6"),n=i("b622"),r=n("match");e.exports=function(e){var t;return s(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==a(e))}},"4df4":function(e,t,i){"use strict";var s=i("0366"),a=i("7b0b"),n=i("9bdd"),r=i("e95a"),c=i("50c4"),o=i("8418"),v=i("35a1");e.exports=function(e){var t,i,l,d,u,f,b=a(e),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,_=void 0!==m,g=v(b),y=0;if(_&&(m=s(m,p>2?arguments[2]:void 0,2)),void 0==g||h==Array&&r(g))for(t=c(b.length),i=new h(t);t>y;y++)f=_?m(b[y],y):b[y],o(i,y,f);else for(d=g.call(b),u=d.next,i=new h;!(l=u.call(d)).done;y++)f=_?n(d,m,[l.value,y],!0):l.value,o(i,y,f);return i.length=y,i}},"4fad":function(e,t,i){var s=i("23e7"),a=i("6f53").entries;s({target:"Object",stat:!0},{entries:function(e){return a(e)}})},"5a34":function(e,t,i){var s=i("44e7");e.exports=function(e){if(s(e))throw TypeError("The method doesn't accept regular expressions");return e}},"6f53":function(e,t,i){var s=i("83ab"),a=i("df75"),n=i("fc6a"),r=i("d1e7").f,c=function(e){return function(t){var i,c=n(t),o=a(c),v=o.length,l=0,d=[];while(v>l)i=o[l++],s&&!r.call(c,i)||d.push(e?[i,c[i]]:c[i]);return d}};e.exports={entries:c(!0),values:c(!1)}},"820e":function(e,t,i){"use strict";var s=i("23e7"),a=i("1c0b"),n=i("f069"),r=i("e667"),c=i("2266");s({target:"Promise",stat:!0},{allSettled:function(e){var t=this,i=n.f(t),s=i.resolve,o=i.reject,v=r((function(){var i=a(t.resolve),n=[],r=0,o=1;c(e,(function(e){var a=r++,c=!1;n.push(void 0),o++,i.call(t,e).then((function(e){c||(c=!0,n[a]={status:"fulfilled",value:e},--o||s(n))}),(function(e){c||(c=!0,n[a]={status:"rejected",reason:e},--o||s(n))}))})),--o||s(n)}));return v.error&&o(v.value),i.promise}})},"8a79":function(e,t,i){"use strict";var s=i("23e7"),a=i("06cf").f,n=i("50c4"),r=i("5a34"),c=i("1d80"),o=i("ab13"),v=i("c430"),l="".endsWith,d=Math.min,u=o("endsWith"),f=!v&&!u&&!!function(){var e=a(String.prototype,"endsWith");return e&&!e.writable}();s({target:"String",proto:!0,forced:!f&&!u},{endsWith:function(e){var t=String(c(this));r(e);var i=arguments.length>1?arguments[1]:void 0,s=n(t.length),a=void 0===i?s:d(n(i),s),o=String(e);return l?l.call(t,o,a):t.slice(a-o.length,a)===o}})},"9bdd":function(e,t,i){var s=i("825a"),a=i("2a62");e.exports=function(e,t,i,n){try{return n?t(s(i)[0],i[1]):t(i)}catch(r){throw a(e),r}}},a449:function(e,t,i){},a630:function(e,t,i){var s=i("23e7"),a=i("4df4"),n=i("1c7e"),r=!n((function(e){Array.from(e)}));s({target:"Array",stat:!0,forced:r},{from:a})},aa72:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.getSelectedApp?i("div",{staticClass:"grid"},[i("vs-navbar",{staticClass:"behind relative mt-2",attrs:{shadow:!1},model:{value:e.activeNav,callback:function(t){e.activeNav=t},expression:"activeNav"}},[i("vs-navbar-item",{attrs:{active:"devices"===e.activeNav,id:"devices"}},[e._v(" Devices ")]),i("vs-navbar-item",{attrs:{active:"env"===e.activeNav,id:"env"}},[e._v(" Environment variables ")])],1),"devices"===e.activeNav?i("vs-row",e._l(e.sortedDevices,(function(e){return i("vs-col",{key:e.uuid,attrs:{lg:"4",sm:"6",xs:"12","vs-justify":"center","vs-align":"center"}},[i("DeviceTile",{attrs:{details:e}})],1)})),1):i("vs-row",{staticClass:"mt-2",attrs:{justify:"center"}},[i("vs-col",{attrs:{w:"11"}},[i("vs-table",{attrs:{striped:""},scopedSlots:e._u([{key:"thead",fn:function(){return[i("vs-tr",[i("vs-th",[e._v(" Name ")]),i("vs-th",[e._v(" Value ")]),i("vs-th",[e._v(" Actions ")]),i("vs-th",[e._v(" Created At ")]),i("vs-th",[e._v(" Last Modified At ")])],1)]},proxy:!0},{key:"tbody",fn:function(){return[e._l(e.sortedEnvVars,(function(t){return i("vs-tr",{key:t.id,attrs:{data:t}},[i("vs-td",[e._v(e._s(t.name))]),i("vs-td",{attrs:{edit:""},on:{click:function(i){e.envEditObject.edit=t,e.envEditObject.editProp="value",e.envEditObject.editActive=!0}}},[i("i",{staticClass:"bx bx-edit bx-xs vertical-align-middle"}),i("span",{staticClass:"vertical-align-middle"},[e._v(" "+e._s(t.value))])]),i("vs-td",[i("vs-button",{attrs:{icon:"",flat:""},on:{click:function(i){return e.removeEnv(t)}}},[i("i",{staticClass:"bx bx-trash"})])],1),i("vs-td",[e._v(" "+e._s(e._f("moment")(t["created_at"],"DD.MM.YYYY - HH:mm:ss"))+" ")]),i("vs-td",[e._v(" "+e._s(e._f("moment")(t["modified_at"],"DD.MM.YYYY - HH:mm:ss"))+" ")])],1)})),i("vs-tr",[i("vs-td",[i("vs-input",{attrs:{"label-placeholder":"New variable name"},model:{value:e.newEnvObject.name,callback:function(t){e.$set(e.newEnvObject,"name",t)},expression:"newEnvObject.name"}})],1),i("vs-td",[i("vs-input",{attrs:{"label-placeholder":"New variable value"},model:{value:e.newEnvObject.value,callback:function(t){e.$set(e.newEnvObject,"value",t)},expression:"newEnvObject.value"}})],1),i("vs-td",[i("vs-button",{attrs:{icon:"",flat:""},on:{click:e.saveNewEnv}},[i("i",{staticClass:"bx bx-save"}),i("span",[e._v("Speichern")])])],1)],1)]},proxy:!0}],null,!1,3339427291)}),i("vs-dialog",{attrs:{blur:""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(' Edit Prop "'+e._s(e.envEditObject.editProp)+'" ')]},proxy:!0}],null,!1,2754955381),model:{value:e.envEditObject.editActive,callback:function(t){e.$set(e.envEditObject,"editActive",t)},expression:"envEditObject.editActive"}},[e.envEditObject.editProp?i("vs-input",{on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveEnv(t)}},model:{value:e.envEditObject.edit[e.envEditObject.editProp],callback:function(t){e.$set(e.envEditObject.edit,e.envEditObject.editProp,t)},expression:"envEditObject.edit[envEditObject.editProp]"}}):e._e(),i("vs-button",{on:{click:e.saveEnv}},[e._v("Save")])],1)],1)],1)],1):i("div")},a=[];function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}function r(e){if(Array.isArray(e))return n(e)}i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),i("a630");function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}i("fb6a"),i("b0c0");function o(e,t){if(e){if("string"===typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){return r(e)||c(e)||o(e)||v()}var d=i("5530"),u=i("2f62"),f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"custom-tile",on:{click:function(t){t.stopPropagation(),e.showDetailsDialog=!e.showDetailsDialog}}},[i("h2",[e._v(e._s(e.details["device_name"]))]),i("div",{staticClass:"grid"},[i("vs-row",{attrs:{justify:"space-between"}},[i("vs-col",{attrs:{w:"6"}},[e._v("Online / VPN Connected:")]),i("vs-col",{staticClass:"right",attrs:{w:"6"}},[i("span",[e.details["is_online"]?i("i",{staticClass:"bx bx-check-circle bx-sm green"}):i("i",{staticClass:"bx bx-x-circle bx-sm red"})]),i("span",[e.details["is_connected_to_vpn"]?i("i",{staticClass:"bx bx-check-circle bx-sm green"}):i("i",{staticClass:"bx bx-x-circle bx-sm red"})])])],1),i("vs-row",{attrs:{justify:"space-between"}},[i("vs-col",{attrs:{w:"6"}},[e._v("IP Adress:")]),i("vs-col",{staticClass:"right",attrs:{w:"6"}},[e._v(e._s(e.details["ip_address"]))])],1),i("vs-row",{attrs:{justify:"space-between"}},[i("vs-col",{attrs:{w:"6"}},[e._v("Status / progress:")]),i("vs-col",{staticClass:"right",attrs:{w:"6"}},[e._v(e._s(e.details["overall_status"])+" "+e._s(e.details["overall_progress"]?"/":"")+" "+e._s(e.details["overall_progress"]))])],1),i("vs-row",{attrs:{justify:"space-between"}},[i("vs-col",{attrs:{w:"6"}},[e._v("OS variant:")]),i("vs-col",{staticClass:"right",attrs:{w:"6"}},[e._v(e._s(e.details["os_variant"]))])],1),i("vs-row",{attrs:{justify:"space-between"}},[i("vs-col",{attrs:{w:"6"}},[e._v("Last connectivity event:")]),i("vs-col",{staticClass:"right",attrs:{w:"6"}},[e._v(e._s(e._f("moment")(e.details["last_connectivity_event"],"DD.MM.YYYY, HH:mm:ss")))])],1),i("vs-row",{attrs:{justify:"space-between"}},[i("vs-col",{attrs:{w:"6"}},[e._v("Created at:")]),i("vs-col",{staticClass:"right",attrs:{w:"6"}},[e._v(e._s(e._f("moment")(e.details["created_at"],"DD.MM.YYYY, HH:mm:ss")))])],1)],1)]),i("vs-dialog",{attrs:{"overflow-hidden":"",scroll:"","full-screen":""},scopedSlots:e._u([{key:"header",fn:function(){return[i("h4",[e._v(e._s(e.details["device_name"]))]),i("vs-button",{attrs:{icon:"",flat:""},on:{click:function(t){e.showEditNameDialog=!e.showEditNameDialog}}},[i("i",{staticClass:"bx bx-edit"})])]},proxy:!0}]),model:{value:e.showDetailsDialog,callback:function(t){e.showDetailsDialog=t},expression:"showDetailsDialog"}},[i("vs-navbar",{attrs:{id:"device-details-navbar"},model:{value:e.navbarItem,callback:function(t){e.navbarItem=t},expression:"navbarItem"}},[i("vs-navbar-item",{attrs:{active:e.navbarItem===e.details.uuid+"settings",id:e.details.uuid+"settings"}},[e._v(" Settings ")]),i("vs-navbar-item",{attrs:{active:e.navbarItem===e.details.uuid+"env",id:e.details.uuid+"env"}},[e._v(" Environment Variables ")])],1),e.getSelectedDevice?i("div",[e.navbarItem===e.details.uuid+"settings"?i("vs-row",[i("vs-col",{staticStyle:{padding:"1.5%"},attrs:{lg:"6",sm:"12"}},[i("div",{staticClass:"center"},[i("vs-button",{attrs:{upload:e.rebooting,border:""},on:{click:e.rebootDevice}},[e._v("Reboot Device")]),i("vs-button",{attrs:{upload:e.restarting,border:""},on:{click:e.restartDevice}},[e._v("Restart All Services")])],1),i("hr"),i("div",{staticClass:"detail-list"},[i("vs-row",{attrs:{justify:"space-around"}},[i("vs-col",{staticClass:"detail-container",attrs:{w:"3"}},[i("div",[e._v("STATUS")]),e.details["is_online"]?i("div",[i("i",{staticClass:"bx bx-check-circle green"}),e._v(" Online ")]):i("div",[i("i",{staticClass:"bx bx-x-circle red"}),e._v(" Offline ")])]),i("vs-col",{staticClass:"detail-container",attrs:{w:"3"}},[i("div",[e._v("UUID")]),i("div",[e._v(e._s(e.details["uuid"].substring(0,7)))])]),i("vs-col",{staticClass:"detail-container",attrs:{w:"3"}},[i("div",[e._v("TYPE")]),i("div",[i("span",{staticStyle:{"vertical-align":"middle"}},[i("img",{staticClass:"device-type-image",attrs:{src:e.deviceType.logo,alt:""}})]),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v(" "+e._s(e.deviceType.name))])])])],1),i("vs-row",{attrs:{justify:"space-around"}},[e.details["is_online"]?i("vs-col",{staticClass:"detail-container",attrs:{w:"3"}},[i("div",[e._v("ONLINE SINCE")]),i("div",[e._v(e._s(e._f("moment")(e.getSelectedDevice["last_connectivity_event"],"calendar")))])]):i("vs-col",{staticClass:"detail-container",attrs:{w:"3"}},[i("div",[e._v("LAST SEEN (VPN)")]),i("div",[e._v(e._s(e._f("moment")(e.getSelectedDevice["last_vpn_event"],"calendar")))])]),i("vs-col",{staticClass:"detail-container",attrs:{w:"3"}},[i("div",[e._v("HOST OS VERSION")]),i("div",[i("div",[e._v(e._s(e.getSelectedDevice["os_version"]))]),i("div",{staticClass:"chip"},[e._v(e._s(e.getSelectedDevice["os_variant"]))])])]),i("vs-col",{staticClass:"detail-container",attrs:{w:"3"}},[i("div",[e._v("SUPERVISOR VERSION")]),i("div",[e._v(e._s(e.getSelectedDevice["supervisor_version"]))])])],1),i("vs-row",{attrs:{justify:"space-around"}},[e.details["is_online"]?i("vs-col",{staticClass:"detail-container",attrs:{w:"3"}},[i("div",[e._v("CURRENT RELEASE")]),i("div",[e._v(e._s(e.currentRelease.commit.substring(0,7)))])]):i("vs-col",{staticClass:"detail-container",attrs:{w:"3"}},[i("div",[e._v("LAST SEEN (VPN)")]),i("div",[e._v(e._s(e._f("moment")(e.getSelectedDevice["last_vpn_event"],"calendar")))])]),i("vs-col",{staticClass:"detail-container",attrs:{w:"3"}},[i("div",[e._v("LOCAL IP ADDRESS")]),i("div",[i("div",[e._v(e._s(e.getSelectedDevice["ip_address"]))])])]),i("vs-col",{staticClass:"detail-container",attrs:{w:"3"}},[i("div",[e._v("MAC ADDRESS")]),i("div",[e._v(e._s(e.getSelectedDevice["mac_address"]))])])],1)],1),i("hr"),i("vs-table",{scopedSlots:e._u([{key:"thead",fn:function(){return[i("vs-tr",[i("vs-th",[e._v("Service")]),i("vs-th",[e._v("Status")]),i("vs-th")],1)]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.sortedServices,(function(t,s,a){return i("vs-tr",{key:a,attrs:{data:t[0]}},[i("vs-td",[i("div",{staticClass:"service-list-name",style:"background-color: "+e.colors[t[0]["service_id"]]},[e._v(" "+e._s(s)+" ")])]),i("vs-td",[i("span",["Running"===t[0].status?i("i",{staticClass:"bx bx-check-circle",staticStyle:{color:"green"}}):i("i",{staticClass:"bx bx-error-circle",staticStyle:{color:"red"}})]),i("span",[e._v(" "+e._s(t[0].status))])]),i("vs-td",[i("vs-row",[i("vs-button",{attrs:{icon:"",flat:"",disabled:"Running"===t[0].status},on:{click:function(i){return e.startService(t[0].service_id)}}},[i("i",{staticClass:"bx bx-play"})]),i("vs-button",{attrs:{icon:"",flat:"",disabled:"Running"!==t[0].status},on:{click:function(i){return e.stopService(t[0].service_id)}}},[i("i",{staticClass:"bx bx-stop"})]),i("vs-button",{attrs:{icon:"",flat:"",disabled:"Running"!==t[0].status},on:{click:function(i){return e.restartService(t[0].service_id)}}},[i("i",{staticClass:"bx bx-refresh"})])],1)],1)],1)}))},proxy:!0}],null,!1,3498316925)})],1),i("vs-col",{staticStyle:{padding:"1.5%"},attrs:{lg:"6",sm:"12"}},[i("div",{staticClass:"hardware-stats"},[i("vs-row",{staticClass:"spacing-row"},[i("vs-col",{attrs:{lg:"3",sm:"6",xs:"12"}},[i("div",{staticClass:"hardware-stats-text"},[i("span",[e._v("CPU")]),i("span",[e._v(e._s(e.getSelectedDevice["cpu_usage"])+"%")])]),i("div",{staticClass:"progress-background"},[i("div",{staticClass:"progress-status",style:"width: "+e.getSelectedDevice["cpu_usage"]+"%"})])]),i("vs-col",{attrs:{lg:"3",sm:"6",xs:"12"}},[i("div",{staticClass:"hardware-stats-text"},[i("span",[e._v("Temperature")]),i("span",[e._v("~"+e._s(e.getSelectedDevice["cpu_temp"])+"Â°C")])]),i("div",{staticClass:"progress-background"},[i("div",{staticClass:"progress-status",style:"width: "+e.getSelectedDevice["cpu_temp"]+"%"})])]),i("vs-col",{attrs:{lg:"3",sm:"6",xs:"12"}},[i("div",{staticClass:"hardware-stats-text"},[i("span",[e._v("Memory")]),i("span",[e._v(e._s(e.getSelectedDevice["memory_usage"])+" MB / "+e._s((e.getSelectedDevice["memory_total"]/1e3).toFixed(1))+" GB")])]),i("div",{staticClass:"progress-background"},[i("div",{staticClass:"progress-status",style:"width: "+e.getSelectedDevice["memory_usage"]/e.getSelectedDevice["memory_total"]*100+"%"})])]),i("vs-col",{attrs:{lg:"3",sm:"6",xs:"12"}},[i("div",{staticClass:"hardware-stats-text"},[i("span",[e._v("Storage")]),i("span",[e._v(e._s((e.getSelectedDevice["storage_usage"]/1e3).toFixed(1))+" GB/"+e._s((e.getSelectedDevice["storage_total"]/1e3).toFixed(1))+" GB")])]),i("div",{staticClass:"progress-background"},[i("div",{staticClass:"progress-status",style:"width: "+e.getSelectedDevice["storage_usage"]/e.getSelectedDevice["storage_total"]*100+"%"})])])],1)],1),i("div",{staticClass:"log-container"},[i("h4",[e._v("Logs")]),i("div",{ref:"logContainer"},e._l(e.logs,(function(t,s){return i("div",{key:"line"+s},[i("span",{staticClass:"timestamp"},[e._v(e._s(e._f("moment")(t.timestamp,"DD.MM.YY - HH:mm:ss"))+":")]),i("span",{staticClass:"service",style:"background-color: "+e.colors[t.serviceId]},[e._v(e._s(e.getServiceNameByServiceId(t.serviceId)))]),i("span",{staticClass:"message",class:{"is-system":t.isSystem,"is-error":t.isStdErr}},[e._v(e._s(t.message))])])})),0)])])],1):e.navbarItem===e.details.uuid+"env"?i("vs-row",[i("vs-col",[i("vs-table",{attrs:{striped:""},scopedSlots:e._u([{key:"thead",fn:function(){return[i("vs-tr",[i("vs-th",[e._v(" Name ")]),i("vs-th",[e._v(" Value ")]),i("vs-th",[e._v(" Actions ")]),i("vs-th",[e._v(" Created At ")]),i("vs-th",[e._v(" Last Modified At ")])],1)]},proxy:!0},{key:"tbody",fn:function(){return[e._l(e.sortedEnvVars,(function(t){return i("vs-tr",{key:t.id,attrs:{data:t}},[i("vs-td",[e._v(e._s(t.name))]),i("vs-td",{attrs:{edit:""},on:{click:function(i){e.envEditObject.edit=t,e.envEditObject.editProp="value",e.envEditObject.editActive=!0}}},[i("i",{staticClass:"bx bx-edit bx-xs vertical-align-middle"}),i("span",{staticClass:"vertical-align-middle"},[e._v(" "+e._s(t.value))])]),i("vs-td",[i("vs-button",{attrs:{icon:"",flat:""},on:{click:function(i){return e.removeEnv(t)}}},[i("i",{staticClass:"bx bx-trash"})])],1),i("vs-td",[e._v(" "+e._s(e._f("moment")(t["created_at"],"DD.MM.YYYY - HH:mm:ss"))+" ")]),i("vs-td",[e._v(" "+e._s(e._f("moment")(t["modified_at"],"DD.MM.YYYY - HH:mm:ss"))+" ")])],1)})),i("vs-tr",[i("vs-td",[i("vs-input",{attrs:{"label-placeholder":"New variable name"},model:{value:e.newEnvObject.name,callback:function(t){e.$set(e.newEnvObject,"name",t)},expression:"newEnvObject.name"}})],1),i("vs-td",[i("vs-input",{attrs:{"label-placeholder":"New variable value"},model:{value:e.newEnvObject.value,callback:function(t){e.$set(e.newEnvObject,"value",t)},expression:"newEnvObject.value"}})],1),i("vs-td",[i("vs-button",{attrs:{icon:"",flat:""},on:{click:e.saveNewEnv}},[i("i",{staticClass:"bx bx-save"}),i("span",[e._v("Speichern")])])],1)],1)]},proxy:!0}],null,!1,3339427291)}),i("vs-dialog",{attrs:{blur:""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(' Edit Prop "'+e._s(e.envEditObject.editProp)+'" ')]},proxy:!0}],null,!1,2754955381),model:{value:e.envEditObject.editActive,callback:function(t){e.$set(e.envEditObject,"editActive",t)},expression:"envEditObject.editActive"}},[e.envEditObject.editProp?i("vs-input",{on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveEnv(t)}},model:{value:e.envEditObject.edit[e.envEditObject.editProp],callback:function(t){e.$set(e.envEditObject.edit,e.envEditObject.editProp,t)},expression:"envEditObject.edit[envEditObject.editProp]"}}):e._e(),i("vs-button",{on:{click:e.saveEnv}},[e._v("Save")])],1)],1)],1):e._e()],1):e._e()],1),i("vs-dialog",{attrs:{blur:""},model:{value:e.showEditNameDialog,callback:function(t){e.showEditNameDialog=t},expression:"showEditNameDialog"}},[i("vs-input",{model:{value:e.details["device_name"],callback:function(t){e.$set(e.details,"device_name",t)},expression:"details['device_name']"}}),i("vs-button",{on:{click:e.saveName}},[e._v("Save")])],1)],1)},b=[];function h(e){if(Array.isArray(e))return e}function p(e,t){var i=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=i){var s,a,n=[],r=!0,c=!1;try{for(i=i.call(e);!(r=(s=i.next()).done);r=!0)if(n.push(s.value),t&&n.length===t)break}catch(o){c=!0,a=o}finally{try{r||null==i["return"]||i["return"]()}finally{if(c)throw a}}return n}}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){return h(e)||p(e,t)||o(e,t)||m()}function g(e,t){var i="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=o(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var s=0,a=function(){};return{s:a,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,c=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){c=!0,n=e},f:function(){try{r||null==i["return"]||i["return"]()}finally{if(c)throw n}}}}i("8a79"),i("07ac"),i("820e"),i("4fad"),i("b64b");var y={name:"DeviceTile",watch:{showDetailsDialog:function(e){e?this.startShowingDetails():this.stopShowingDetails()},navbarItem:function(e){null!==e&&void 0!==e&&e.endsWith("env")&&this.fetchEnvVars()}},created:function(){this.navbarItem="".concat(this.details.uuid,"settings")},updated:function(){this.$refs.logContainer&&(this.$refs.logContainer.scrollTop=this.$refs.logContainer.scrollHeight)},destroyed:function(){var e;null===(e=this.logger)||void 0===e||e.unsubscribe()},methods:Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(u["b"])({fetchDevice:"fetchDevice"})),Object(u["d"])({setSelectedDevice:"setSelectedDevice"})),{},{startShowingDetails:function(){var e,t=this;this.setSelectedDevice(null),this.interval=setInterval((function(){t.fetchDevice(t.details.uuid)}),5e3),this.fetchDevice(this.details.uuid),this.logs=[],null===(e=this.$balena)||void 0===e||e.logs.subscribe(this.details.uuid,{count:150}).then((function(e){t.logger=e,e.on("line",(function(e){t.$refs.logContainer&&(t.$refs.logContainer.scrollTop=t.$refs.logContainer.scrollHeight),t.logs.push(e)}))}))},stopShowingDetails:function(){var e;null===(e=this.logger)||void 0===e||e.unsubscribe(),clearInterval(this.interval)},rebootDevice:function(){var e=this;this.rebooting=!0,this.$balena.models.device.reboot(this.details.uuid).finally((function(){e.rebooting=!1}))},restartDevice:function(){var e=this,t=[];this.restarting=!0;for(var i=0,s=Object.values(this.sortedServices);i<s.length;i++){var a,n=s[i],r=g(n);try{for(r.s();!(a=r.n()).done;){var c,o=a.value;t.push(null===(c=this.$balena)||void 0===c?void 0:c.models.device.restartService(this.details.uuid,o["image_id"]))}}catch(v){r.e(v)}finally{r.f()}}Promise.allSettled(t).then((function(){e.restarting=!1}))},startService:function(e){this.$balena.models.device.startService(this.details.uuid,e)},stopService:function(e){this.$balena.models.device.stopService(this.details.uuid,e)},restartService:function(e){this.$balena.models.device.restartService(this.details.uuid,e)},getServiceNameByServiceId:function(e){for(var t=0,i=Object.entries(this.getSelectedDevice["current_services"]);t<i.length;t++){var s,a=_(i[t],2),n=a[0],r=a[1],c=g(r);try{for(c.s();!(s=c.n()).done;){var o=s.value;if(o["service_id"]===e)return n}}catch(v){c.e(v)}finally{c.f()}}return null},saveName:function(){var e=this;this.$balena.models.device.rename(this.details.uuid,this.details["device_name"]).then((function(){e.showEditNameDialog=!1}))},fetchEnvVars:function(){var e=this;this.fetchingEnvVars=!0,this.$balena.models.device.envVar.getAllByDevice(this.details.uuid,{}).then((function(t){e.envVars=t}))},saveEnv:function(){var e=this;this.envEditObject.editActive=!1,this.fetchingEnvVars=!0,this.$balena.models.device.envVar.set(this.details.uuid,this.envEditObject.edit.name,this.envEditObject.edit.value).then((function(){e.fetchEnvVars()}))},removeEnv:function(e){var t=this;this.$balena.models.device.envVar.remove(this.details.uuid,e.name).then((function(){t.fetchEnvVars()}))},saveNewEnv:function(){var e=this;this.$balena.models.device.envVar.set(this.details.uuid,this.newEnvObject.name,this.newEnvObject.value).then((function(){e.fetchEnvVars(),e.newEnvObject.name=void 0,e.newEnvObject.value=void 0}))}}),computed:Object(d["a"])(Object(d["a"])({},Object(u["c"])({getSelectedDevice:"getSelectedDevice"})),{},{deviceType:function(){return this.getSelectedDevice["is_of__device_type"][0]},currentRelease:function(){return this.getSelectedDevice["is_running__release"][0]},sortedEnvVars:function(){var e=this;return this.envVars?l(this.envVars).sort((function(t,i){return e.$moment(t["created_at"])-e.$moment(i["created_at"])})):[]},sortedServices:function(){var e=this;return Object.keys(this.getSelectedDevice["current_services"]).sort().reduce((function(t,i){return t[i]=e.getSelectedDevice["current_services"][i],t}),{})}}),props:{details:{required:!0}},data:function(){return{restarting:!1,rebooting:!1,interval:void 0,showDetailsDialog:!1,showEditNameDialog:!1,envVars:void 0,fetchingEnvVars:!1,logs:[],envEditObject:{editActive:!1,edit:null,editProp:void 0},newEnvObject:{name:void 0,value:void 0},navbarItem:void 0,logger:void 0,colors:["#0C059A","#B36E2E","#C0BC0D","#9F4081","#2363CC","#EB5E7E","#AAA723","#D286A8","#318747"]}}},E=y,w=(i("c5a2"),i("3253"),i("2877")),S=Object(w["a"])(E,f,b,!1,null,"213cd793",null),O=S.exports,j={name:"Devices",components:{DeviceTile:O},watch:{activeNav:function(e){"env"===e&&this.fetchEnvVars()}},created:function(){this.getSelectedApp||this.$router.push("home"),this.interval=setInterval(this.fetchDevicesOfSelectedApp,2e4),this.fetchDevicesOfSelectedApp()},destroyed:function(){clearInterval(this.interval)},methods:Object(d["a"])(Object(d["a"])({},Object(u["b"])({fetchDevicesOfSelectedApp:"fetchDevicesOfSelectedApp"})),{},{fetchEnvVars:function(){var e=this;this.$balena.models.application.envVar.getAllByApplication(this.getSelectedApp.id).then((function(t){console.log(t),e.envVars=t}))},removeEnv:function(e){var t=this;this.$balena.models.application.envVar.remove(this.getSelectedApp.id,e.name).then((function(){t.fetchEnvVars()}))},saveNewEnv:function(){var e=this;this.$balena.models.application.envVar.set(this.getSelectedApp.id,this.newEnvObject.name,this.newEnvObject.value).then((function(){e.fetchEnvVars(),e.newEnvObject.name=void 0,e.newEnvObject.value=void 0}))},saveEnv:function(){var e=this;this.envEditObject.editActive=!1,this.fetchingEnvVars=!0,this.$balena.models.application.envVar.set(this.getSelectedApp.id,this.envEditObject.edit.name,this.envEditObject.edit.value).then((function(){e.fetchEnvVars()}))}}),computed:Object(d["a"])(Object(d["a"])({},Object(u["c"])({getSelectedAppDevices:"getSelectedAppDevices",getSelectedApp:"getSelectedApp"})),{},{sortedDevices:function(){return this.getSelectedAppDevices?l(this.getSelectedAppDevices).sort((function(e,t){return e["device_name"]<t["device_name"]?-1:e["device_name"]>t["device_name"]?1:0})):null},sortedEnvVars:function(){var e=this;return this.envVars?l(this.envVars).sort((function(t,i){return e.$moment(t["created_at"])-e.$moment(i["created_at"])})):[]}}),data:function(){return{interval:void 0,activeNav:"devices",envVars:void 0,envEditObject:{editActive:!1,edit:null,editProp:void 0},newEnvObject:{name:void 0,value:void 0}}}},x=j,k=(i("23dd"),Object(w["a"])(x,s,a,!1,null,"dd70a73e",null));t["default"]=k.exports},ab13:function(e,t,i){var s=i("b622"),a=s("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[a]=!1,"/./"[e](t)}catch(s){}}return!1}},b2eb:function(e,t,i){},c5a2:function(e,t,i){"use strict";i("b2eb")},d28b:function(e,t,i){var s=i("746f");s("iterator")},e01a:function(e,t,i){"use strict";var s=i("23e7"),a=i("83ab"),n=i("da84"),r=i("5135"),c=i("861d"),o=i("9bf2").f,v=i("e893"),l=n.Symbol;if(a&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},u=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof u?new l(e):void 0===e?l():l(e);return""===e&&(d[t]=!0),t};v(u,l);var f=u.prototype=l.prototype;f.constructor=u;var b=f.toString,h="Symbol(test)"==String(l("test")),p=/^Symbol\((.*)\)[^)]+$/;o(f,"description",{configurable:!0,get:function(){var e=c(this)?this.valueOf():this,t=b.call(e);if(r(d,e))return"";var i=h?t.slice(7,-1):t.replace(p,"$1");return""===i?void 0:i}}),s({global:!0,forced:!0},{Symbol:u})}},ef60:function(e,t,i){},fb6a:function(e,t,i){"use strict";var s=i("23e7"),a=i("861d"),n=i("e8b5"),r=i("23cb"),c=i("50c4"),o=i("fc6a"),v=i("8418"),l=i("b622"),d=i("1dde"),u=d("slice"),f=l("species"),b=[].slice,h=Math.max;s({target:"Array",proto:!0,forced:!u},{slice:function(e,t){var i,s,l,d=o(this),u=c(d.length),p=r(e,u),m=r(void 0===t?u:t,u);if(n(d)&&(i=d.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?a(i)&&(i=i[f],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return b.call(d,p,m);for(s=new(void 0===i?Array:i)(h(m-p,0)),l=0;p<m;p++,l++)p in d&&v(s,l,d[p]);return s.length=l,s}})}}]);
//# sourceMappingURL=about.0ad4d2fd.js.map